{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "properties": {
    "affinity": {
      "description": "expects input structure as per specification\nAffinity for pod assignment (https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#affinity-v1-core)",
      "required": [],
      "title": "affinity",
      "type": "object"
    },
    "containerSecurityContext": {
      "description": "Security context for the jellyfin container\n   (https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)",
      "properties": {
        "allowPrivilegeEscalation": {
          "default": false,
          "title": "allowPrivilegeEscalation",
          "type": "boolean"
        },
        "capabilities": {
          "properties": {
            "drop": {
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  }
                ],
                "required": []
              },
              "title": "drop",
              "type": "array"
            }
          },
          "required": [],
          "title": "capabilities",
          "type": "object"
        },
        "readOnlyRootFilesystem": {
          "default": true,
          "title": "readOnlyRootFilesystem",
          "type": "boolean"
        },
        "runAsGroup": {
          "default": 64710,
          "title": "runAsGroup",
          "type": "integer"
        },
        "runAsNonRoot": {
          "default": true,
          "title": "runAsNonRoot",
          "type": "boolean"
        },
        "runAsUser": {
          "default": 64710,
          "title": "runAsUser",
          "type": "integer"
        }
      },
      "required": [],
      "title": "containerSecurityContext",
      "type": "object"
    },
    "fullnameOverride": {
      "default": "",
      "description": "String to fully override `common.names.fullname` template",
      "title": "fullnameOverride",
      "type": "string"
    },
    "global": {
      "description": "Default values for jellyfin",
      "properties": {
        "commonLabels": {
          "description": "Labels to apply to all resources.",
          "required": [],
          "title": "commonLabels",
          "type": "object"
        },
        "debug": {
          "default": false,
          "description": "Enable global debug mode",
          "title": "debug",
          "type": "boolean"
        },
        "imagePullSecrets": {
          "description": "Reference to one or more secrets to be used when pulling images\n   (https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/)",
          "items": {
            "required": []
          },
          "title": "imagePullSecrets",
          "type": "array"
        },
        "imageRegistry": {
          "default": "",
          "description": "Global Docker image registry",
          "title": "imageRegistry",
          "type": "string"
        }
      },
      "required": [],
      "title": "global",
      "type": "object"
    },
    "images": {
      "properties": {
        "jellyfin": {
          "properties": {
            "digest": {
              "default": "",
              "description": "jellyfin image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag",
              "title": "digest",
              "type": "string"
            },
            "pullPolicy": {
              "default": "IfNotPresent",
              "description": "jellyfin image pull policy",
              "title": "pullPolicy",
              "type": "string"
            },
            "registry": {
              "default": "",
              "description": "jellyfin image registry (optional)",
              "title": "registry",
              "type": "string"
            },
            "repository": {
              "default": "jellyfin/jellyfin",
              "description": "jellyfin image repository",
              "title": "repository",
              "type": "string"
            },
            "tag": {
              "default": "",
              "description": "jellyfin image tag (immutable tags are recommended)",
              "title": "tag",
              "type": "string"
            }
          },
          "required": [],
          "title": "jellyfin",
          "type": "object"
        }
      },
      "required": [],
      "title": "images",
      "type": "object"
    },
    "ingress": {
      "properties": {
        "annotations": {
          "description": "Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.",
          "required": [],
          "title": "annotations",
          "type": "object"
        },
        "enabled": {
          "default": false,
          "description": "Enable ingress resource",
          "title": "enabled",
          "type": "boolean"
        },
        "extraHosts": {
          "description": "The list of additional hostnames to be covered with this ingress record.",
          "items": {
            "required": []
          },
          "title": "extraHosts",
          "type": "array"
        },
        "extraPaths": {
          "description": "Any additional paths that may need to be added to the ingress under the main host",
          "items": {
            "required": []
          },
          "title": "extraPaths",
          "type": "array"
        },
        "extraRules": {
          "description": "Additional rules to be covered with this ingress record",
          "items": {
            "required": []
          },
          "title": "extraRules",
          "type": "array"
        },
        "extraTls": {
          "description": "The tls configuration for additional hostnames to be covered with this ingress record.",
          "items": {
            "required": []
          },
          "title": "extraTls",
          "type": "array"
        },
        "hostname": {
          "default": "jellyfin.local",
          "description": "Default host for the ingress resource",
          "title": "hostname",
          "type": "string"
        },
        "ingressClassName": {
          "default": "",
          "description": "IngressClass that will be used to implement the Ingress",
          "title": "ingressClassName",
          "type": "string"
        },
        "path": {
          "default": "/",
          "description": "The Path to jellyfin. You may need to set this to '/*' in order to use this with ALB ingress controllers.",
          "title": "path",
          "type": "string"
        },
        "pathType": {
          "default": "ImplementationSpecific",
          "description": "Ingress path type",
          "title": "pathType",
          "type": "string"
        },
        "tls": {
          "default": true,
          "description": "Enable TLS configuration for the hostname defined at apiIngress.hostname parameter",
          "title": "tls",
          "type": "boolean"
        }
      },
      "required": [],
      "title": "ingress",
      "type": "object"
    },
    "jellyfin": {
      "properties": {
        "extraDevices": {
          "description": "Additional device like GPU to mount",
          "items": {
            "required": []
          },
          "title": "extraDevices",
          "type": "array"
        },
        "mediaVolumes": {
          "description": "The list of volumes that will be mounted inside jellyfin pod, to `/media`.",
          "items": {
            "required": []
          },
          "title": "mediaVolumes",
          "type": "array"
        },
        "persistentTranscodes": {
          "default": false,
          "description": "Keep all transcoded files persistent.",
          "title": "persistentTranscodes",
          "type": "boolean"
        }
      },
      "required": [],
      "title": "jellyfin",
      "type": "object"
    },
    "nameOverride": {
      "default": "",
      "description": "String to partially override `common.names.fullname` template (will maintain the release name)",
      "title": "nameOverride",
      "type": "string"
    },
    "networkPolicy": {
      "properties": {
        "allowAllOutbound": {
          "default": true,
          "description": "Whether to allow all outbound traffic by default.",
          "title": "allowAllOutbound",
          "type": "boolean"
        },
        "allowExternal": {
          "default": true,
          "description": "Don't require client label for connections",
          "title": "allowExternal",
          "type": "boolean"
        },
        "egress": {
          "description": "Sets egress policy block. See NetworkPolicies documentation (https://kubernetes.io/docs/concepts/services-networking/network-policies/).",
          "items": {
            "required": []
          },
          "title": "egress",
          "type": "array"
        },
        "enabled": {
          "default": false,
          "description": "Enable the default NetworkPolicy policy",
          "title": "enabled",
          "type": "boolean"
        },
        "ingress": {
          "description": "Sets ingress policy block. See NetworkPolicies documentation (https://kubernetes.io/docs/concepts/services-networking/network-policies/).",
          "items": {
            "required": []
          },
          "title": "ingress",
          "type": "array"
        }
      },
      "required": [],
      "title": "networkPolicy",
      "type": "object"
    },
    "nodeSelector": {
      "description": "Node labels for pod assignment",
      "properties": {
        "kubernetes.io/os": {
          "default": "linux",
          "title": "kubernetes.io/os",
          "type": "string"
        }
      },
      "required": [],
      "title": "nodeSelector",
      "type": "object"
    },
    "persistence": {
      "properties": {
        "cache": {
          "properties": {
            "enabled": {
              "default": true,
              "description": "Enable cache persistence using `PVC`. If false, use emptyDir",
              "title": "enabled",
              "type": "boolean"
            },
            "volumeClaimSpec": {
              "description": "Claims that pods are allowed to reference (see\n   https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#persistentvolumeclaim-v1-core\n   for structural reference)",
              "properties": {
                "accessModes": {
                  "items": {
                    "anyOf": [
                      {
                        "type": "string"
                      }
                    ],
                    "required": []
                  },
                  "title": "accessModes",
                  "type": "array"
                },
                "resources": {
                  "properties": {
                    "requests": {
                      "properties": {
                        "storage": {
                          "default": "2Gi",
                          "title": "storage",
                          "type": "string"
                        }
                      },
                      "required": [],
                      "title": "requests",
                      "type": "object"
                    }
                  },
                  "required": [],
                  "title": "resources",
                  "type": "object"
                }
              },
              "required": [],
              "title": "volumeClaimSpec",
              "type": "object"
            }
          },
          "required": [],
          "title": "cache",
          "type": "object"
        },
        "config": {
          "properties": {
            "enabled": {
              "default": true,
              "description": "Enable configuration persistence using `PVC`. If false, use emptyDir",
              "title": "enabled",
              "type": "boolean"
            },
            "volumeClaimSpec": {
              "description": "Claims that pods are allowed to reference (see\n   https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#persistentvolumeclaim-v1-core\n   for structural reference)",
              "properties": {
                "accessModes": {
                  "items": {
                    "anyOf": [
                      {
                        "type": "string"
                      }
                    ],
                    "required": []
                  },
                  "title": "accessModes",
                  "type": "array"
                },
                "resources": {
                  "properties": {
                    "requests": {
                      "properties": {
                        "storage": {
                          "default": "1Gi",
                          "title": "storage",
                          "type": "string"
                        }
                      },
                      "required": [],
                      "title": "requests",
                      "type": "object"
                    }
                  },
                  "required": [],
                  "title": "resources",
                  "type": "object"
                }
              },
              "required": [],
              "title": "volumeClaimSpec",
              "type": "object"
            }
          },
          "required": [],
          "title": "config",
          "type": "object"
        }
      },
      "required": [],
      "title": "persistence",
      "type": "object"
    },
    "podAnnotations": {
      "description": "Additional annotations to apply to the pod.",
      "required": [],
      "title": "podAnnotations",
      "type": "object"
    },
    "podLabels": {
      "description": "Additional labels to be added to pods.",
      "required": [],
      "title": "podLabels",
      "type": "object"
    },
    "podSecurityContext": {
      "description": "Security context for the pod (https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)",
      "properties": {
        "fsGroup": {
          "default": 64710,
          "title": "fsGroup",
          "type": "integer"
        },
        "runAsGroup": {
          "default": 64710,
          "title": "runAsGroup",
          "type": "integer"
        },
        "runAsNonRoot": {
          "default": true,
          "title": "runAsNonRoot",
          "type": "boolean"
        },
        "runAsUser": {
          "default": 64710,
          "title": "runAsUser",
          "type": "integer"
        },
        "seccompProfile": {
          "properties": {
            "type": {
              "default": "RuntimeDefault",
              "title": "type",
              "type": "string"
            }
          },
          "required": [],
          "title": "seccompProfile",
          "type": "object"
        }
      },
      "required": [],
      "title": "podSecurityContext",
      "type": "object"
    },
    "probes": {
      "description": "Health probes for the pod (https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/)",
      "properties": {
        "livenessProbe": {
          "properties": {
            "enabled": {
              "default": true,
              "title": "enabled",
              "type": "boolean"
            },
            "failureThreshold": {
              "default": 3,
              "title": "failureThreshold",
              "type": "integer"
            },
            "initialDelaySeconds": {
              "default": 30,
              "title": "initialDelaySeconds",
              "type": "integer"
            },
            "periodSeconds": {
              "default": 10,
              "title": "periodSeconds",
              "type": "integer"
            },
            "timeoutSeconds": {
              "default": 1,
              "title": "timeoutSeconds",
              "type": "integer"
            }
          },
          "required": [],
          "title": "livenessProbe",
          "type": "object"
        },
        "readinessProbe": {
          "properties": {
            "enabled": {
              "default": true,
              "title": "enabled",
              "type": "boolean"
            },
            "failureThreshold": {
              "default": 3,
              "title": "failureThreshold",
              "type": "integer"
            },
            "initialDelaySeconds": {
              "default": 0,
              "title": "initialDelaySeconds",
              "type": "integer"
            },
            "periodSeconds": {
              "default": 10,
              "title": "periodSeconds",
              "type": "integer"
            },
            "timeoutSeconds": {
              "default": 1,
              "title": "timeoutSeconds",
              "type": "integer"
            }
          },
          "required": [],
          "title": "readinessProbe",
          "type": "object"
        },
        "startupProbe": {
          "properties": {
            "enabled": {
              "default": false,
              "title": "enabled",
              "type": "boolean"
            },
            "failureThreshold": {
              "default": 30,
              "title": "failureThreshold",
              "type": "integer"
            },
            "periodSeconds": {
              "default": 10,
              "title": "periodSeconds",
              "type": "integer"
            },
            "successThreshold": {
              "default": 1,
              "title": "successThreshold",
              "type": "integer"
            },
            "timeoutSeconds": {
              "default": 1,
              "title": "timeoutSeconds",
              "type": "integer"
            }
          },
          "required": [],
          "title": "startupProbe",
          "type": "object"
        }
      },
      "required": [],
      "title": "probes",
      "type": "object"
    },
    "resources": {
      "properties": {
        "jellyfin": {
          "properties": {
            "limits": {
              "description": "The resources limits for the container",
              "properties": {
                "cpu": {
                  "default": "2",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "6Gi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "description": "The requested resources for the container",
              "properties": {
                "cpu": {
                  "default": "500m",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "512Mi",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "jellyfin",
          "type": "object"
        }
      },
      "required": [],
      "title": "resources",
      "type": "object"
    },
    "service": {
      "properties": {
        "annotations": {
          "description": "Additional annotations for the Service",
          "required": [],
          "title": "annotations",
          "type": "object"
        },
        "clusterIP": {
          "default": "",
          "description": "Service Cluster IP",
          "title": "clusterIP",
          "type": "string"
        },
        "externalTrafficPolicy": {
          "default": "Cluster",
          "description": "Enable client source IP preservation",
          "title": "externalTrafficPolicy",
          "type": "string"
        },
        "loadBalancerIP": {
          "default": "",
          "description": "LoadBalancer IP if service type is `LoadBalancer` (optional, cloud specific)",
          "title": "loadBalancerIP",
          "type": "string"
        },
        "loadBalancerSourceRanges": {
          "description": "Addresses that are allowed when service is `LoadBalancer`",
          "items": {
            "required": []
          },
          "title": "loadBalancerSourceRanges",
          "type": "array"
        },
        "type": {
          "default": "ClusterIP",
          "description": "Service type",
          "title": "type",
          "type": "string"
        },
        "web": {
          "properties": {
            "nodePort": {
              "default": 0,
              "description": "Specify the nodePort value for the `LoadBalancer` and `NodePort` service types",
              "title": "nodePort",
              "type": "integer"
            },
            "port": {
              "default": 8096,
              "description": "`web` service port",
              "title": "port",
              "type": "integer"
            }
          },
          "required": [],
          "title": "web",
          "type": "object"
        }
      },
      "required": [],
      "title": "service",
      "type": "object"
    },
    "strategy": {
      "description": "Set up update strategy for jellyfin installation. Set to `Recreate` if you use persistent volume\n   that cannot be mounted by more than one pods to make sure the pods is destroyed first.\n   (https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#strategy)",
      "required": [],
      "title": "strategy",
      "type": "object"
    },
    "tolerations": {
      "description": "Tolerations for pod assignment (https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#toleration-v1-core)",
      "items": {
        "required": []
      },
      "title": "tolerations",
      "type": "array"
    },
    "topologySpreadConstraints": {
      "description": "Topology Spread Constraints for pod assignment\n   (https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#topologyspreadconstraint-v1-core)",
      "items": {
        "required": []
      },
      "title": "topologySpreadConstraints",
      "type": "array"
    }
  },
  "required": [],
  "type": "object"
}